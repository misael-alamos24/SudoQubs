{"ast":null,"code":"import { solution } from \"./0-Unrepeatable.js\"; // const {solution} = require('../functions/0-Unrepeatable.js');// import { solution } from \"./0-Unrepeatable\"\n// import { boxs, cols, poss, qubs, resetSquare, rows, update, updateBox, updateCol, updateRow } from \"./2-Estructures\";\n// poss()\n\nlet cols, boxs, rows, qubs;\nrows = [];\ncols = [];\nboxs = [];\n\nfor (let r = 0; r < 9; r++) {\n  cols[c] = [];\n  boxs[b] = [];\n  rows[r] = [];\n}\n\nqubs = [];\n\nfor (let q = 1; q <= 81; q++) {\n  qubs.push(0);\n} // _________________________________________\n\n/* Funciones auxiliares usadas para updatear */\n\n\nfunction floor(a, b) {\n  return Math.floor(a / b);\n}\n\nfunction modul(a, b) {\n  return a % b;\n} // _________________________________________\n\n\nfunction updateCol(inx, nueve) {\n  cols[modul(inx, nueve)][floor(inx, nueve)] = qubs[inx];\n  return qubs[inx];\n}\n\nfunction updateRow(inx, nueve) {\n  rows[floor(inx, nueve)][modul(inx, nueve)] = qubs[inx];\n  return qubs[inx];\n}\n\nfunction updateBox(q, nueve, x, y) {\n  //para 6x6 => 2,3,2,3,3 => variante 11 \n  var gross = Math.floor(q / nueve); //indica el numero de fila\n  //calculamos el index vertical\n\n  var index = Math.floor(gross / x); //este da 0, 1 ó 2\n  //lo usamos para calcular el box exacto al cual pertenecerá\n\n  var module = q % nueve;\n  var foundbox = Math.floor(module / y) + index * x; //índice del box -> 0 al 8\n\n  let indexbox = (Math.floor(q / nueve) * y + q % y) % nueve; //índice puntual -> 0 al 8\n\n  boxs[foundbox][indexbox] = qubs[q];\n  return `boxs[${foundbox}][${indexbox}], actualizado: ${boxs[foundbox][indexbox]}`;\n} //Exportables solo las siguientes functions\n\n\nconst update = (q, nueve, x, y, cols, rows) => {\n  //Actualiza un qube puntual => q\n  updateBox(q, nueve, x, y);\n  updateCol(q, nueve, cols);\n  updateRow(q, nueve, rows);\n};\n\nfunction resetSquare(q, nueve, x, y) {\n  //Resetea un qube puntual => q\n  qubs[q] = 0;\n  updateBox(q, nueve, x, y);\n  updateCol(q, nueve);\n  updateRow(q, nueve);\n} // (\n\n\nfunction possCols(nueve) {\n  //possCols\n  let loop = nueve - 1; //    pseudo \n  //    tengo que agarrar qubs que va del 1 al 81\n  //    hacer iteraciones de 0 a 8\n  //    a todos los 0, mandarlos al indice cols[0]\n  //    a todos los 8, mandarlos al indice cols[8]\n\n  var ochouno = 0;\n\n  for (let alfa = 0; alfa <= loop; alfa++) {\n    for (let beta = 0; beta <= loop; beta++) {\n      cols[beta][alfa] = qubs[ochouno]; //intercambiando los índices beta y alfa entre sí conseguimos columna o fila según se requiera\n\n      ochouno++;\n    }\n  }\n\n  return cols;\n}\n\nfunction possRows(nueve) {\n  let loop = nueve - 1;\n  var ochouno = 0;\n\n  for (let alfa = 0; alfa <= loop; alfa++) {\n    for (let beta = 0; beta <= loop; beta++) {\n      rows[alfa][beta] = qubs[ochouno];\n      ochouno++;\n    }\n  }\n\n  return rows;\n}\n\nfunction possBoxs() {\n  for (let a = 0; a < 81; a++) {\n    updateBox(a);\n  }\n\n  return boxs;\n}\n\nfunction poss() {\n  for (let a = 0; a < 81; a++) {\n    update(a);\n  }\n}\n\nfunction possRandC(boxs) {\n  possCols();\n  possRows();\n  boxs = possCols();\n  console.log(boxs);\n}\n\nfunction restore() {\n  for (let a = 0; a < 81; a++) {\n    resetSquare(a);\n  }\n}\n\nfunction updateEvery() {\n  for (let a = 0; a < 81; a++) {\n    update(a);\n  }\n}\n\nfunction megasolution(quantity) {\n  let b = [];\n  let c = [];\n  let r = [];\n\n  for (let a = 0; a < 9; a++) {\n    r.push(solution(rows[a], quantity));\n    c.push(solution(cols[a], quantity));\n    b.push(solution(boxs[a], quantity));\n  }\n\n  let concat = {\n    rows: r,\n    boxs: b,\n    cols: c\n  };\n  return concat;\n}\n\nfunction megasolutionBy(entity, quantity) {\n  let b = [];\n  let c = [];\n  let r = [];\n  let concat;\n\n  for (let a = 0; a < 9; a++) {\n    if (entity === 'rows') {\n      r.push(solution(rows[a], quantity));\n      concat = r;\n    }\n\n    if (entity === 'cols') {\n      c.push(solution(cols[a], quantity));\n      concat = c;\n    }\n\n    if (entity === 'boxs') {\n      b.push(solution(boxs[a], quantity));\n      concat = b;\n    }\n  }\n\n  return concat;\n}\n\nfunction pointerMistakes(entityString, concat, quantity) {\n  let response = [];\n  let e = concat[entityString];\n\n  for (let a = 0; a < e.length; a++) {\n    if (e[a] !== -1) {\n      response.push({\n        indice: a,\n        subindice: e[a]\n      });\n    }\n  }\n\n  if (quantity > 1) {\n    return response;\n  }\n\n  if (!quantity || quantity === 1) {\n    return [response[0]];\n  }\n}\n\nfunction detectdifficulty(qubs) {\n  let cont = [];\n\n  for (let a = 0; a < 81; a++) {\n    if (qubs[a] !== 0) {\n      cont.push(a);\n    }\n  }\n\n  return cont;\n}\n\nfunction updateEveryCols() {\n  //Hace un bucle de 81 iteraciones para actualizar las cols respecto a los qubs\n  for (let b = 0; b < 81; b++) updateCol(b);\n}\n\nfunction updateQubsBy(what) {\n  var q = 0;\n  var qubes = [];\n\n  for (let aa = 0; aa < 9; aa++) {\n    for (let a = 0; a < 9; a++) {\n      if (what === \"rows\") {\n        qubes.push(rows[aa][a]);\n      }\n\n      if (what === \"cols\") {\n        qubes.push(cols[a][aa]);\n      }\n\n      if (what === \"boxs\") {\n        var gross = Math.floor(q / 9); //indica el numero de fila\n\n        var index = Math.floor(gross / 3); //este da 0, 1 ó 2\n\n        var module = q % 9;\n        let indexbox = (Math.floor(q / 9) * 3 + q % 3) % 9; //índice puntual -> 0 al 8\n\n        var foundbox = Math.floor(module / 3) + index * 3; //índice del box -> 0 al 8\n\n        qubes.push(boxs[foundbox][indexbox]);\n        q++;\n      }\n    }\n  }\n\n  return qubes;\n}\n\nfunction create3() {\n  var molino = 0;\n  var ochouno = 0;\n  let setRows = new Set();\n  let setBoxs = new Set();\n  let theSet = new Set();\n\n  for (let aa = 0; aa < 9; aa++) {\n    for (let a = 0; a < 9; a++) {\n      molino++;\n      let random = Math.ceil(Math.random() * 9);\n      rows[aa][a] = random; // if (a > 0){\n\n      if (solution(rows[aa]) !== -1) {\n        setRows.add(random);\n\n        if (setRows.size >= 9) {\n          // rows[aa][a]= 0\n          // console.log(\"set a 9 en rows\",theSet)\n          // console.log(setRows, aa, a, random, ochouno, 'rows == 9', rows[aa])     \n          setBoxs = new Set();\n          setRows = new Set();\n          rows[aa] = [0, 0, 0, 0, 0, 0, 0, 0, 0];\n          qubs = updateQubsBy(\"rows\");\n\n          for (let b = 0; b < 9; b++) {\n            updateBox(aa * 9 + b);\n            updateCol(aa * 9 + b);\n          }\n\n          ochouno = aa * 9;\n          a = -1;\n          continue;\n        } // console.log(setRows, aa, a, random, ochouno, 'rows', rows[aa])     \n\n\n        a = a - 1;\n        continue;\n      } // }\n\n\n      cols[a][aa] = random;\n\n      if (aa > 0) {\n        if (solution(cols[a]) !== -1) {\n          setRows.add(random);\n\n          if (setRows.size >= 9) {\n            // rows[aa][a]= 0\n            // console.log(\"set a 9 en rows\",theSet)\n            // console.log(setRows, aa, a, random, ochouno, 'rows == 9', rows[aa])     \n            setBoxs = new Set();\n            setRows = new Set();\n            rows[aa] = [0, 0, 0, 0, 0, 0, 0, 0, 0];\n            qubs = updateQubsBy(\"rows\");\n\n            for (let b = 0; b < 9; b++) {\n              updateBox(aa * 9 + b);\n              updateCol(aa * 9 + b);\n            }\n\n            ochouno = aa * 9;\n            a = -1;\n            continue;\n          } // console.log(setRows, aa, a, random, ochouno, 'rows', rows[aa])     \n\n\n          a = a - 1;\n          continue;\n        }\n      } // console.log(\"pasé los continue\")\n      // }\n\n\n      var q = ochouno;\n      var gross = Math.floor(q / 9); //indica el numero de fila\n\n      var index = Math.floor(gross / 3); //este da 0, 1 ó 2\n\n      var module = q % 9;\n      let indexbox = (Math.floor(q / 9) * 3 + q % 3) % 9; //índice puntual -> 0 al 8\n\n      var foundbox = Math.floor(module / 3) + index * 3; //índice del box -> 0 al 8\n\n      boxs[foundbox][indexbox] = random; // if( indexbox > 0 ) {\n\n      if (solution(boxs[foundbox]) !== -1) {\n        setRows.add(random);\n        boxs[foundbox][indexbox] = 0; // console.log(setRows, aa, a, random, ochouno)                    \n\n        if (setRows.size >= 9) {\n          setBoxs = new Set();\n          setRows = new Set();\n          rows[aa] = [0, 0, 0, 0, 0, 0, 0, 0, 0];\n          qubs = updateQubsBy(\"rows\");\n\n          for (let b = 0; b < 9; b++) {\n            updateBox(aa * 9 + b);\n            updateCol(aa * 9 + b);\n          }\n\n          ochouno = aa * 9;\n          a = -1; // ochouno= aa * 9\n\n          continue;\n        }\n\n        a = a - 1; // ochouno--\n\n        continue;\n      } // }\n\n\n      if (\n      /*solution(cols[a ])=== -1 &&*/\n      solution(rows[aa]) === -1) {\n        rows[aa][a] = random; // cols[a][aa]= random\n      }\n\n      ochouno++;\n      setBoxs = new Set();\n      setRows = new Set();\n    }\n\n    theSet = new Set();\n  }\n\n  return {\n    ok: \"ok\",\n    molino\n  };\n}\n\nfunction difficult(level) {\n  var coef = level * 0.4 + 5;\n  var diff = Math.random() * 15;\n  var float = parseFloat(diff.toString().slice(0, 3));\n\n  if (float > coef) {\n    return true; //se busca un numero\n  }\n\n  return false; //no se busca nada\n}\n\nfunction sudoqubs(level, entity) {\n  //SIEMPRE DEBE TOMAR UN INPUT Y SACAR UN OUTPUT\n  var suerte;\n  var array = [];\n\n  for (let index = 0; index < 9; index++) {\n    for (let ii = 0; ii < 9; ii++) {\n      suerte = difficult(level);\n\n      if (!suerte) {\n        entity[index][ii] = 0;\n        array.push(index);\n      }\n    }\n  }\n\n  return array.length;\n} //Rehacer esta function: Seniority()\n\n\nfunction howmanyQubs(rows) {\n  let cont = [];\n\n  for (let a = 0; a < rows.length; a++) {\n    for (let b = 0; b < rows[a].length; b++) {\n      if (rows[a][b] !== 0) {\n        cont.push(rows[a][b]);\n      }\n    }\n  }\n\n  return cont.length;\n}\n\nfunction rows_cols_to_squares(first, second, rowsORcols) {\n  function dependsWhom(dominante, calibrador) {\n    return dominante * 9 + calibrador;\n  }\n\n  if (rowsORcols === 'rows') {\n    return dependsWhom(first, second);\n  }\n\n  if (rowsORcols === 'cols') {\n    return dependsWhom(second, first);\n  }\n}\n\nfunction boxs_to_squares(box, index) {\n  return Math.floor(index / 3) * 9 + index % 3 + box % 3 * 3 + Math.floor(box / 3) * 3 * 9;\n}\n\nfunction getBoxFromQ(q) {\n  var gross = Math.floor(q / 9); //indica el numero de fila\n  //calculamos el index vertical\n\n  var index = Math.floor(gross / 3); //este da 0, 1 ó 2\n  //lo usamos para calcular el box exacto al cual pertenecerá\n\n  var module = q % 9;\n  var foundbox = Math.floor(module / 3) + index * 3; //índice del box -> 0 al 8\n\n  let indexbox = (Math.floor(q / 9) * 3 + q % 3) % 9; //índice puntual -> 0 al 8\n  // boxs[foundbox][indexbox] = qubs[q]\n\n  return [foundbox, indexbox];\n}\n\nposs(); // Relaciona las filas, columnas y cajas entre sí\n\nrestore(); // Reinicia el sudoku: borrando los datos de las filas, columnas y cajas\n\nlet sudoku = create3(); // En la variable sudoku se guarda un objeto: {ok: 'ok', molino: number}\n// create3() genera el sudoku, guardando el rows, cols, y boxs los datos\n// Solo con el Array rows ya podemos desplegar el sudoku en el browser\n\nsudoqubs(5, rows); // Esta función es la que borra ciertos números, según cuántos se borran, se define la dificulad\n\nqubs = updateQubsBy(\"rows\"); // Qubs es un Array de 81 casilleros, con esta función le pasamos los datos de rows a qubs\n\nupdateEvery(); // Relaciona las filas, columnas y cajas entre sí, cada vez que se agregue un número cuando se esté jugando al sudoku, es necesario ejecutar una variante de esta función. \n\nexport { //Para testing\nrows, cols, boxs, qubs, updateRow, updateCol, updateBox, //Para update\nupdate, //Para reset\nresetSquare, //Para crear estructura sudoku\npossCols, possRows, possBoxs, poss, possRandC, restore, detectdifficulty, megasolution, megasolutionBy, create3, updateQubsBy, difficult, //Para crear sudoku lógico:\nsudoku, //Registro de sudoku:\nhowmanyQubs, //Registro errores:\npointerMistakes, //Conversores inversos:\nboxs_to_squares, rows_cols_to_squares, //conversor regular\ngetBoxFromQ };","map":{"version":3,"names":["solution","cols","boxs","rows","qubs","r","c","b","q","push","floor","a","Math","modul","updateCol","inx","nueve","updateRow","updateBox","x","y","gross","index","module","foundbox","indexbox","update","resetSquare","possCols","loop","ochouno","alfa","beta","possRows","possBoxs","poss","possRandC","console","log","restore","updateEvery","megasolution","quantity","concat","megasolutionBy","entity","pointerMistakes","entityString","response","e","length","indice","subindice","detectdifficulty","cont","updateEveryCols","updateQubsBy","what","qubes","aa","create3","molino","setRows","Set","setBoxs","theSet","random","ceil","add","size","ok","difficult","level","coef","diff","float","parseFloat","toString","slice","sudoqubs","suerte","array","ii","howmanyQubs","rows_cols_to_squares","first","second","rowsORcols","dependsWhom","dominante","calibrador","boxs_to_squares","box","getBoxFromQ","sudoku"],"sources":["F:/code/SudoQubs/src/functions/2-Estructures.js"],"sourcesContent":["import { solution } from \"./0-Unrepeatable.js\";\r\n// const {solution} = require('../functions/0-Unrepeatable.js');// import { solution } from \"./0-Unrepeatable\"\r\n// import { boxs, cols, poss, qubs, resetSquare, rows, update, updateBox, updateCol, updateRow } from \"./2-Estructures\";\r\n// poss()\r\n\r\nlet cols, boxs, rows, qubs\r\n\r\n    rows= []\r\n    cols= []\r\n    boxs= []\r\n    for (let r= 0; r< 9; r++){\r\n        cols[c]= []\r\n        boxs[b]= []\r\n        rows[r]= []\r\n    }\r\n\r\n    qubs= []\r\n    for (let q= 1; q<= 81; q++){\r\n        qubs.push(0)\r\n    }\r\n    \r\n// _________________________________________\r\n/* Funciones auxiliares usadas para updatear */\r\nfunction floor (a,b) { \r\n    return Math.floor(a/b)\r\n}\r\nfunction modul (a,b) {\r\n    return a % b\r\n}\r\n// _________________________________________\r\n\r\nfunction updateCol(inx, nueve) {\r\n    cols[modul(inx, nueve)][floor(inx,nueve)]= qubs[inx]\r\n    return qubs[inx]\r\n}\r\n\r\nfunction updateRow(inx,nueve) {\r\n    rows[floor(inx,nueve)][modul(inx,nueve)]= qubs[inx]\r\n    return qubs[inx]\r\n}\r\n\r\nfunction updateBox(q,nueve,x,y) {\r\n    //para 6x6 => 2,3,2,3,3 => variante 11 \r\n        \r\n    var gross= Math.floor(q / nueve) //indica el numero de fila\r\n//calculamos el index vertical\r\n    var index= Math.floor(gross / x) //este da 0, 1 ó 2\r\n//lo usamos para calcular el box exacto al cual pertenecerá\r\n    var module= (q % nueve) \r\n\r\n    var foundbox= Math.floor(module / y) + index * x //índice del box -> 0 al 8\r\n    let indexbox = (Math.floor(q/nueve)*y + q%y) %nueve //índice puntual -> 0 al 8\r\n    \r\n    boxs[foundbox][indexbox] = qubs[q]\r\n\r\n    return `boxs[${foundbox}][${indexbox}], actualizado: ${boxs[foundbox][indexbox]}`\r\n\r\n}\r\n//Exportables solo las siguientes functions\r\nconst update = (q, nueve, x, y, cols, rows) => { //Actualiza un qube puntual => q\r\n    updateBox(q, nueve, x, y)\r\n    updateCol(q, nueve, cols)\r\n    updateRow(q, nueve, rows)\r\n}\r\n\r\nfunction resetSquare(q, nueve, x, y) { //Resetea un qube puntual => q\r\n    qubs[q]= 0\r\n    updateBox(q, nueve, x, y)\r\n    updateCol(q, nueve)\r\n    updateRow(q, nueve)\r\n}\r\n\r\n\r\n// (\r\nfunction possCols (nueve){//possCols\r\n\r\n    let loop= nueve -1\r\n    //    pseudo \r\n    //    tengo que agarrar qubs que va del 1 al 81\r\n    //    hacer iteraciones de 0 a 8\r\n    //    a todos los 0, mandarlos al indice cols[0]\r\n    //    a todos los 8, mandarlos al indice cols[8]\r\n    var ochouno= 0\r\n\r\n    for(let alfa= 0; alfa <= loop; alfa++) {\r\n        for(let beta= 0; beta <= loop; beta++) {\r\n            cols[beta][alfa]= qubs[ochouno] //intercambiando los índices beta y alfa entre sí conseguimos columna o fila según se requiera\r\n            ochouno++\r\n        }\r\n    }\r\n\r\n    return cols\r\n}\r\n\r\nfunction possRows(nueve){\r\n\r\n    let loop= nueve -1\r\n    var ochouno= 0\r\n\r\n    for(let alfa= 0; alfa <= loop; alfa++) {\r\n        for(let beta= 0; beta <= loop; beta++) {\r\n            rows[alfa][beta]= qubs[ochouno] \r\n            ochouno++\r\n        }\r\n    }\r\n\r\n    return rows\r\n}\r\n\r\nfunction possBoxs(){\r\n    for (let a= 0; a < 81; a++) {\r\n        updateBox(a)\r\n    }\r\n    return boxs\r\n}\r\n\r\nfunction poss(){\r\n    for (let a= 0; a < 81; a++) {\r\n        update(a)\r\n    }\r\n}\r\n\r\nfunction possRandC(boxs){\r\n    possCols()\r\n    possRows()\r\n    boxs= possCols()\r\n    console.log(boxs)\r\n}\r\n\r\nfunction restore(){\r\n    for (let a= 0; a < 81; a++) {\r\n        resetSquare(a)\r\n    }\r\n}\r\n\r\nfunction updateEvery(){\r\n    for (let a= 0; a < 81; a++) {\r\n        update(a)\r\n    }\r\n}\r\n\r\nfunction megasolution(quantity){\r\n    let b= []\r\n    let c=[]\r\n    let r=[]\r\n    for (let a= 0; a < 9; a++) {\r\n        r.push(solution(rows[a], quantity)) \r\n        c.push(solution(cols[a], quantity)) \r\n        b.push(solution(boxs[a], quantity)) \r\n    }\r\n    let concat= {rows: r, boxs: b, cols: c}\r\n    return concat\r\n}\r\n\r\nfunction megasolutionBy(entity, quantity){\r\n    let b= []\r\n    let c=[]\r\n    let r=[]\r\n    let concat\r\n    for (let a= 0; a < 9; a++) {\r\n        if(entity==='rows') {r.push(solution(rows[a], quantity)) ; concat= r}\r\n        if(entity==='cols') {c.push(solution(cols[a], quantity)) ; concat= c}\r\n        if(entity==='boxs') {b.push(solution(boxs[a], quantity)) ; concat= b}\r\n    }\r\n    return concat\r\n}\r\n\r\n\r\nfunction pointerMistakes(entityString, concat, quantity){\r\n    \r\n    let response= []\r\n    let e= concat[entityString]\r\n    for(let a=0; a<e.length; a++){\r\n        if(e[a]!==-1){\r\n            response.push({\r\n                indice: a,\r\n                subindice: e[a]\r\n            })\r\n        }\r\n    }\r\n    if(quantity> 1){\r\n        return response\r\n    }\r\n    if(!quantity || quantity===1){\r\n        return [response[0]]\r\n    }\r\n}\r\n\r\nfunction detectdifficulty(qubs){\r\n    let cont=[]\r\n    for(let a=0;a<81;a++){\r\n        if(qubs[a]!==0){\r\n            cont.push(a)\r\n        }\r\n    }\r\n    return cont\r\n}\r\nfunction updateEveryCols(){ //Hace un bucle de 81 iteraciones para actualizar las cols respecto a los qubs\r\n    for(let b=0;b<81;b++) updateCol(b) \r\n}\r\n\r\n\r\nfunction updateQubsBy(what){\r\n    var q= 0\r\n    var qubes= []\r\n    for(let aa= 0; aa < 9; aa++){\r\n        for(let a= 0; a < 9; a++){\r\n            if(what===\"rows\") {\r\n                qubes.push(rows[aa][a])\r\n            }\r\n            if(what===\"cols\") {\r\n                qubes.push(cols[a][aa])\r\n            }\r\n            if(what===\"boxs\") {\r\n                var gross= Math.floor(q / 9) //indica el numero de fila\r\n                var index= Math.floor(gross / 3) //este da 0, 1 ó 2\r\n                var module= (q % 9)\r\n                let indexbox = (Math.floor(q/9)*3 + q%3) %9 //índice puntual -> 0 al 8\r\n                var foundbox= Math.floor(module / 3) + index * 3 //índice del box -> 0 al 8\r\n                qubes.push(boxs[foundbox][indexbox])\r\n                q++\r\n            }            \r\n        }\r\n    }\r\n    return qubes\r\n}\r\n\r\n\r\n\r\nfunction create3(){\r\n    var molino= 0\r\n    var ochouno= 0\r\n    let setRows= new Set()\r\n    let setBoxs= new Set()\r\n    let theSet= new Set() \r\n    for (let aa= 0; aa < 9; aa++) {\r\n        for (let a= 0; a < 9; a++) {\r\n            molino++\r\n            let random= Math.ceil( Math.random() * 9 ) \r\n            rows[aa][a]= random\r\n            // if (a > 0){\r\n                if ( solution( rows[aa] ) !== -1 ) {\r\n                    setRows.add(random)             \r\n                    if(setRows.size >= 9) {\r\n                        // rows[aa][a]= 0\r\n                        // console.log(\"set a 9 en rows\",theSet)\r\n                        // console.log(setRows, aa, a, random, ochouno, 'rows == 9', rows[aa])     \r\n                        setBoxs= new Set()\r\n                        setRows= new Set()\r\n                        rows[aa]= [0,0,0,  0,0,0,  0,0,0]\r\n                        qubs= updateQubsBy(\"rows\")\r\n                        for(let b=0;b<9;b++){\r\n                            updateBox((aa * 9) +b)\r\n                            updateCol((aa * 9) +b)\r\n                        }\r\n                        ochouno= aa* 9\r\n                        a= -1\r\n                        continue\r\n                    }\r\n                    // console.log(setRows, aa, a, random, ochouno, 'rows', rows[aa])     \r\n                    a= a-1\r\n                    continue\r\n                }\r\n            // }\r\n            cols[a][aa]= random\r\n            if (aa > 0){\r\n                if ( solution( cols[a] ) !== -1 ) {\r\n                    setRows.add(random)             \r\n                    if(setRows.size >= 9) {\r\n                        // rows[aa][a]= 0\r\n                        // console.log(\"set a 9 en rows\",theSet)\r\n                        // console.log(setRows, aa, a, random, ochouno, 'rows == 9', rows[aa])     \r\n                        setBoxs= new Set()\r\n                        setRows= new Set()\r\n                        rows[aa]= [0,0,0,  0,0,0,  0,0,0]\r\n                        qubs= updateQubsBy(\"rows\")\r\n                        for(let b=0;b<9;b++){\r\n                            updateBox((aa * 9) +b)\r\n                            updateCol((aa * 9) +b)\r\n                        }\r\n                        ochouno= aa* 9\r\n                        a= -1\r\n                        continue\r\n                    }\r\n                    // console.log(setRows, aa, a, random, ochouno, 'rows', rows[aa])     \r\n                    a= a-1\r\n                    continue\r\n                }\r\n            }\r\n                // console.log(\"pasé los continue\")\r\n            // }\r\n\r\n            var q= ochouno\r\n            var gross= Math.floor(q / 9) //indica el numero de fila\r\n            var index= Math.floor(gross / 3) //este da 0, 1 ó 2\r\n            var module= (q % 9)\r\n            let indexbox = (Math.floor(q/9)*3 + q%3) %9 //índice puntual -> 0 al 8\r\n            var foundbox= Math.floor(module / 3) + index * 3 //índice del box -> 0 al 8\r\n            boxs[foundbox][indexbox]= random\r\n            \r\n            // if( indexbox > 0 ) {\r\n                if ( solution( boxs[foundbox] ) !== -1 ) {\r\n                    setRows.add(random)\r\n                    boxs[foundbox][indexbox]= 0                     \r\n                    // console.log(setRows, aa, a, random, ochouno)                    \r\n                    if(setRows.size >= 9) {\r\n                        setBoxs= new Set()\r\n                        setRows= new Set()\r\n                        rows[aa]= [0,0,0,  0,0,0,  0,0,0]\r\n                        qubs= updateQubsBy(\"rows\")\r\n                        for(let b=0;b<9;b++){\r\n                            updateBox((aa * 9) +b)\r\n                            updateCol((aa * 9) +b)\r\n                        }\r\n                        ochouno= aa* 9\r\n                        a= -1\r\n                        // ochouno= aa * 9\r\n                        continue\r\n                    }\r\n                    a=a-1\r\n                    // ochouno--\r\n                    continue\r\n                }\r\n            // }\r\n            if(/*solution(cols[a ])=== -1 &&*/ solution(rows[aa])=== -1){\r\n                rows[aa][a]= random\r\n                // cols[a][aa]= random\r\n            }\r\n            ochouno++\r\n            setBoxs= new Set()\r\n            setRows= new Set()\r\n        }\r\n        theSet= new Set()\r\n    }\r\n    return {ok:\"ok\", molino}\r\n}\r\n\r\nfunction difficult(level) {\r\n    var coef= level *0.4 +5\r\n\r\n    var diff= Math.random() * 15 \r\n    var float= parseFloat(diff.toString().slice(0,3))\r\n\r\n    if(float > coef) {\r\n        return true //se busca un numero\r\n    }\r\n    return false //no se busca nada\r\n}\r\n\r\nfunction sudoqubs (level, entity){ //SIEMPRE DEBE TOMAR UN INPUT Y SACAR UN OUTPUT\r\n    var suerte\r\n    var array = []\r\n    for (let index = 0; index < 9; index++) { \r\n        for (let ii = 0; ii < 9; ii++) {\r\n            suerte= difficult (level)\r\n            if (!suerte) {\r\n            entity[index][ii]= 0 \r\n            array.push(index)\r\n            }\r\n        }\r\n    }\r\n    return array.length\r\n} //Rehacer esta function: Seniority()\r\n\r\nfunction howmanyQubs(rows){\r\n    let cont= []\r\n    for(let a=0; a<rows.length; a++){\r\n        for(let b=0; b<rows[a].length;b++){\r\n            if(rows[a][b]!==0){\r\n                cont.push(rows[a][b])\r\n            }\r\n        }\r\n    }\r\n    return cont.length\r\n}\r\n\r\nfunction rows_cols_to_squares(first, second, rowsORcols){\r\n    function dependsWhom(dominante, calibrador){\r\n        return dominante*9 +calibrador\r\n    }\r\n    if(rowsORcols==='rows'){\r\n        return dependsWhom(first,second)\r\n    }\r\n    if(rowsORcols==='cols'){\r\n        return dependsWhom(second,first)\r\n    }\r\n}\r\n\r\nfunction boxs_to_squares(box, index){\r\n    return Math.floor(index/3)*9 + index % 3 + (box % 3) * 3 + Math.floor(box/3) *3*9\r\n}\r\n\r\nfunction getBoxFromQ(q) {\r\n        \r\n    var gross= Math.floor(q / 9) //indica el numero de fila\r\n//calculamos el index vertical\r\n    var index= Math.floor(gross / 3) //este da 0, 1 ó 2\r\n//lo usamos para calcular el box exacto al cual pertenecerá\r\n    var module= (q % 9) \r\n\r\n    var foundbox= Math.floor(module / 3) + index * 3 //índice del box -> 0 al 8\r\n    let indexbox = (Math.floor(q/9)*3 + q%3) %9 //índice puntual -> 0 al 8\r\n    \r\n    // boxs[foundbox][indexbox] = qubs[q]\r\n\r\n    return [foundbox,indexbox]\r\n\r\n}\r\n\r\nposs() // Relaciona las filas, columnas y cajas entre sí\r\n\r\nrestore() // Reinicia el sudoku: borrando los datos de las filas, columnas y cajas\r\n\r\nlet sudoku =create3() // En la variable sudoku se guarda un objeto: {ok: 'ok', molino: number}\r\n\r\n// create3() genera el sudoku, guardando el rows, cols, y boxs los datos\r\n// Solo con el Array rows ya podemos desplegar el sudoku en el browser\r\n\r\nsudoqubs(5, rows) // Esta función es la que borra ciertos números, según cuántos se borran, se define la dificulad\r\n\r\nqubs= updateQubsBy(\"rows\") // Qubs es un Array de 81 casilleros, con esta función le pasamos los datos de rows a qubs\r\n\r\nupdateEvery() // Relaciona las filas, columnas y cajas entre sí, cada vez que se agregue un número cuando se esté jugando al sudoku, es necesario ejecutar una variante de esta función. \r\n\r\nexport {\r\n    //Para testing\r\n    rows, cols, boxs, qubs,\r\n    updateRow,\r\n    updateCol,\r\n    updateBox,\r\n    //Para update\r\n    update,\r\n    //Para reset\r\n    resetSquare,\r\n    //Para crear estructura sudoku\r\n    possCols,\r\n    possRows,\r\n    possBoxs,\r\n    poss,\r\n    possRandC,\r\n    restore,\r\n    detectdifficulty,\r\n    megasolution,\r\n    megasolutionBy,\r\n    create3,\r\n    updateQubsBy,\r\n    difficult,\r\n    //Para crear sudoku lógico:\r\n    sudoku,\r\n    //Registro de sudoku:\r\n    howmanyQubs,\r\n    //Registro errores:\r\n    pointerMistakes,\r\n    //Conversores inversos:\r\n    boxs_to_squares,\r\n    rows_cols_to_squares,\r\n    //conversor regular\r\n    getBoxFromQ\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}