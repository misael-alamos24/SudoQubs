{"ast":null,"code":"var _jsxFileName = \"F:\\\\code\\\\SudoQubs\\\\src\\\\components\\\\4-Four.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport '../styles/0-zero.css'; // import { qubs, update, cols, boxs, restore, poss, detectdifficulty, megasolution, howmanyQubs, pointerMistakes, rows_cols_to_squares, getBoxFromQ, boxs_to_squares, megasolutionBy } from '../functions/2-Estructures.js';\n\nimport { solution } from '../functions/0-Unrepeatable.js';\nimport { type } from '@testing-library/user-event/dist/type';\nimport { IndexBox } from '../functions/12-Update.js';\nimport RepeatedIndexes from '../functions/RepeatedIndexes';\nimport Squares from '../functions/Squares';\nimport ChangeColor from '../functions/ChangeColor';\nimport ChangeState from '../functions/ChangeState'; // const { qubs, update, cols, boxs, restore } = require('../functions/2-Estructures.js');\n// const { solution } = require('../functions/0-Unrepeatable.js');\n// const { create } = require('../functions/3-Creator.js')\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Four(_ref) {\n  _s();\n\n  let {\n    unity,\n    rows,\n    loyalindex,\n    carga,\n    sendFill\n  } = _ref;\n  console.log(rows); //ESTADOS LOCALES\n\n  let [filas, setFilas] = useState(rows);\n  let [reps, setReps] = useState([]);\n  let [repsC, setRepsC] = useState([]);\n  let [repsB, setRepsB] = useState([]);\n  let [input, setInput] = useState({}); //Estado que maneja cada input del sudoku\n\n  let [alter, setAlter] = useState({}); //DELAY ESTÉTICO (¿Desde cuáno un delay es estético o queda bien? Desde ahora)\n  //FUNCIONES\n  //Función que se ejecuta por cada ingreso de cualquier caracter en cualquier casilla:\n\n  function changeEach(e) {\n    var val = e.target.value; // console.log(\"unity, typeof loyalindex, val, typeof val\", unity, loyalindex, val, typeof val)\n    // console.log(isNaN(val))\n    //_______________________________________________________\n    //LÍNEA QUE NO ADMITE UNA CADENA DE LARGO MAYOR A 1\n\n    if (val.length > 1) return setInput({ ...input,\n      [loyalindex]: val[0]\n    }); // if(!alter[loyalindex]) return setInput({...input, [loyalindex]: unity})\n    //MÓDULO QUE SOLO DEJA ENTRAR NÚMEROS ENTRE EL 1 AL 9\n\n    if (isNaN(val) || val === 0 || val === '0') return setInput({ ...input,\n      [loyalindex]: ''\n    });\n    setInput({ ...input,\n      [loyalindex]: val\n    }); // ______________________________________________________\n\n    if (val === '') unity = 0; //Si se borra un numero va a llegar un string vacío\n\n    if (val !== '') unity = parseInt(val);\n    qubs[loyalindex] = unity;\n    setFilas(update(loyalindex)); //CON ESTE update(q) ACTUALIZO TODAS LAS ENTIDADES (COLUMNAS, FILAS y CAJAS)\n\n    sendFill(howmanyQubs(rows)); //ESTE ES PARA CONTAR CUÁNTOS CASILLEROS ESTÁN LLENOS y CUÁNTOS VACÍOS\n\n    let repsRows = pointerMistakes('rows', megasolution(2), 2); //DETECTOR DE REPETICIONES EN LAS FILAS\n\n    let repsCols = pointerMistakes('cols', megasolution(2), 2); //PARA DETECTAR REPETICIONES EN LAS COLUMNAS\n\n    let repsBoxs = pointerMistakes('boxs', megasolution(2), 2); //PARA DETECTAR REPETICIONES EN LAS CAJAS\n    // PARTE 'A' \n\n    let indexs = RepeatedIndexes(repsRows);\n    let indexsC = RepeatedIndexes(repsCols);\n    let indexsB = RepeatedIndexes(repsBoxs); // PARTE 'B' \n\n    let squares = Squares(indexs, 'rows', rows_cols_to_squares);\n    let squaresC = Squares(indexsC, 'cols', rows_cols_to_squares);\n    let squaresB = Squares(indexsB, 'boxs', boxs_to_squares); // PARTE 'C' \n\n    ChangeColor(squares);\n    ChangeColor(squaresC);\n    ChangeColor(squaresB); // PARTE 'D' \n\n    ChangeState(reps, squares, setReps);\n    ChangeState(repsC, squaresC, setRepsC);\n    ChangeState(repsB, squaresB, setRepsB); // console.log(megasolutionBy('rows',2))\n  } //CONDICIONALES \n  //Cuando el botón Cargar se pulsa, carga es === true, y el sudoku se llena con los datos del algoritmo generador\n\n\n  if (carga) {\n    if (unity !== 0) {\n      document.getElementsByTagName(\"input\")[loyalindex].value = unity;\n    }\n\n    if (typeof unity !== 'number' || isNaN(unity)) {\n      // console.log(unity, typeof unity, loyalindex)\n      document.getElementsByTagName(\"input\")[loyalindex].value = 0;\n    }\n\n    if (unity === 0) {\n      document.getElementsByTagName(\"input\")[loyalindex].value = '';\n    }\n  } //UN DETALLE ESTÉTICO PARA CAMBIAR EL COLOR DE FONDO DE LAS CAJAS (VER EN EL BROWSER)\n\n\n  let box_Array = IndexBox(loyalindex, 9, 3, 3);\n  let back = box_Array.first % 2 === 0 ? 'black' : 'rgb(30,20,10)'; // console.log(alter)\n\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    children: /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\" // No hace falta que sea type = 'number', con el Estado Local lo solucionamos\n      ,\n      value: input[loyalindex] // Esto es clave para que la última palabra la tenga el Estado Local con sus validaciones de si es un número entre 1 y 9\n      ,\n      className: loyalindex % 2 === 0 ? 'unity' : 'impar' // Define el color de los números (ver en el browser)\n      ,\n      style: {\n        backgroundColor: back\n      } // Define el color de fondo de las cajas\n      ,\n      onChange: e => changeEach(e) // disabled={alter[loyalindex] ? false: true}\n\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 13\n  }, this);\n}\n\n_s(Four, \"ULBYL+VDCJSMuWBc5Rb1rkAhuOQ=\");\n\n_c = Four;\n\nvar _c;\n\n$RefreshReg$(_c, \"Four\");","map":{"version":3,"names":["useState","solution","type","IndexBox","RepeatedIndexes","Squares","ChangeColor","ChangeState","Four","unity","rows","loyalindex","carga","sendFill","console","log","filas","setFilas","reps","setReps","repsC","setRepsC","repsB","setRepsB","input","setInput","alter","setAlter","changeEach","e","val","target","value","length","isNaN","parseInt","qubs","update","howmanyQubs","repsRows","pointerMistakes","megasolution","repsCols","repsBoxs","indexs","indexsC","indexsB","squares","rows_cols_to_squares","squaresC","squaresB","boxs_to_squares","document","getElementsByTagName","box_Array","back","first","backgroundColor"],"sources":["F:/code/SudoQubs/src/components/4-Four.jsx"],"sourcesContent":["import { useState } from 'react';\r\nimport '../styles/0-zero.css';\r\n// import { qubs, update, cols, boxs, restore, poss, detectdifficulty, megasolution, howmanyQubs, pointerMistakes, rows_cols_to_squares, getBoxFromQ, boxs_to_squares, megasolutionBy } from '../functions/2-Estructures.js';\r\nimport { solution } from '../functions/0-Unrepeatable.js';\r\nimport { type } from '@testing-library/user-event/dist/type';\r\nimport { IndexBox } from '../functions/12-Update.js';\r\nimport RepeatedIndexes from '../functions/RepeatedIndexes';\r\nimport Squares from '../functions/Squares';\r\nimport ChangeColor from '../functions/ChangeColor';\r\nimport ChangeState from '../functions/ChangeState';\r\n\r\n// const { qubs, update, cols, boxs, restore } = require('../functions/2-Estructures.js');\r\n// const { solution } = require('../functions/0-Unrepeatable.js');\r\n// const { create } = require('../functions/3-Creator.js')\r\n\r\nexport default function Four({unity, rows, loyalindex, carga, sendFill}){\r\n    console.log(rows)\r\n\r\n    //ESTADOS LOCALES\r\n    let [filas, setFilas]= useState(rows) \r\n    let [reps, setReps]= useState([])\r\n    let [repsC, setRepsC]= useState([])\r\n    let [repsB, setRepsB]= useState([])\r\n    let [input, setInput] = useState({ }) //Estado que maneja cada input del sudoku\r\n\r\n    let [alter, setAlter] = useState({ })\r\n\r\n    //DELAY ESTÉTICO (¿Desde cuáno un delay es estético o queda bien? Desde ahora)\r\n\r\n\r\n    //FUNCIONES\r\n    //Función que se ejecuta por cada ingreso de cualquier caracter en cualquier casilla:\r\n    function changeEach(e){\r\n\r\n\r\n        var val= e.target.value\r\n        // console.log(\"unity, typeof loyalindex, val, typeof val\", unity, loyalindex, val, typeof val)\r\n        // console.log(isNaN(val))\r\n        \r\n        //_______________________________________________________\r\n        //LÍNEA QUE NO ADMITE UNA CADENA DE LARGO MAYOR A 1\r\n        if(val.length > 1) return setInput({...input, [loyalindex]: val[0]})\r\n\r\n        // if(!alter[loyalindex]) return setInput({...input, [loyalindex]: unity})\r\n\r\n        //MÓDULO QUE SOLO DEJA ENTRAR NÚMEROS ENTRE EL 1 AL 9\r\n        if(isNaN(val) || val === 0 || val === '0') return setInput({...input, [loyalindex]: ''})\r\n\r\n        setInput({...input, [loyalindex]: val}) \r\n        // ______________________________________________________\r\n\r\n        if(val==='') unity= 0 //Si se borra un numero va a llegar un string vacío\r\n        if(val!=='') unity= parseInt(val)\r\n\r\n        qubs[loyalindex]= unity\r\n        setFilas(update(loyalindex)) //CON ESTE update(q) ACTUALIZO TODAS LAS ENTIDADES (COLUMNAS, FILAS y CAJAS)\r\n        sendFill(howmanyQubs(rows)) //ESTE ES PARA CONTAR CUÁNTOS CASILLEROS ESTÁN LLENOS y CUÁNTOS VACÍOS\r\n        \r\n        let repsRows=pointerMistakes('rows', megasolution(2), 2) //DETECTOR DE REPETICIONES EN LAS FILAS\r\n        let repsCols=pointerMistakes('cols', megasolution(2), 2) //PARA DETECTAR REPETICIONES EN LAS COLUMNAS\r\n        let repsBoxs=pointerMistakes('boxs', megasolution(2), 2) //PARA DETECTAR REPETICIONES EN LAS CAJAS\r\n\r\n        // PARTE 'A' \r\n        let indexs= RepeatedIndexes( repsRows)   \r\n        let indexsC= RepeatedIndexes( repsCols)\r\n        let indexsB= RepeatedIndexes( repsBoxs)\r\n\r\n        // PARTE 'B' \r\n        let squares= Squares(indexs, 'rows', rows_cols_to_squares)\r\n        let squaresC= Squares(indexsC, 'cols', rows_cols_to_squares)\r\n        let squaresB= Squares(indexsB, 'boxs', boxs_to_squares)\r\n\r\n        // PARTE 'C' \r\n        ChangeColor(squares)\r\n        ChangeColor(squaresC)\r\n        ChangeColor(squaresB)\r\n\r\n        // PARTE 'D' \r\n        ChangeState(reps, squares, setReps)\r\n        ChangeState(repsC, squaresC, setRepsC)\r\n        ChangeState(repsB, squaresB, setRepsB)\r\n\r\n        \r\n        // console.log(megasolutionBy('rows',2))\r\n\r\n    }\r\n\r\n    //CONDICIONALES \r\n    //Cuando el botón Cargar se pulsa, carga es === true, y el sudoku se llena con los datos del algoritmo generador\r\n    if (carga) {\r\n        if(unity!==0){\r\n            document.getElementsByTagName(\"input\")[loyalindex].value= unity\r\n        }\r\n        if(typeof unity !== 'number' || isNaN(unity)){\r\n            // console.log(unity, typeof unity, loyalindex)\r\n            document.getElementsByTagName(\"input\")[loyalindex].value= 0\r\n        }\r\n        if(unity===0 ){\r\n            document.getElementsByTagName(\"input\")[loyalindex].value= ''\r\n        }\r\n    }\r\n\r\n    //UN DETALLE ESTÉTICO PARA CAMBIAR EL COLOR DE FONDO DE LAS CAJAS (VER EN EL BROWSER)\r\n    let box_Array= IndexBox(loyalindex, 9, 3, 3)\r\n    let back= box_Array.first%2===0? 'black' : 'rgb(30,20,10)'\r\n    \r\n    // console.log(alter)\r\n\r\n    return (\r\n            <span >\r\n                <input type='text' // No hace falta que sea type = 'number', con el Estado Local lo solucionamos\r\n                value= {input[loyalindex]} // Esto es clave para que la última palabra la tenga el Estado Local con sus validaciones de si es un número entre 1 y 9\r\n                className= {loyalindex%2===0?'unity':'impar'} // Define el color de los números (ver en el browser)\r\n                style={{backgroundColor: back}} // Define el color de fondo de las cajas\r\n                onChange= {e=>changeEach(e)}\r\n                // disabled={alter[loyalindex] ? false: true}\r\n                />\r\n            </span>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}